<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::body}, 'bet')}">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Miguelon Porra GP</title>
</head>
<body>
<h1 th:text="#{bet.title}"></h1>
<p th:text="${bet.race} != null ? #{bet.nextRace(${bet.race.id}, ${bet.race.name}, ${bet.race.country}, ${bet.race.startDate})} : #{bet.noNextRace}"></p>
<div>
    <p th:if="${validationError}" th:text="#{${validationError}}"></p>
    <form th:action="@{/make-bet}" th:if="${bet.race}" th:object="${bet}" method="post" enctype="utf8">
        <input type="hidden" name="race.id" th:value="${bet.race.id}">
        <input type="hidden" name="race.name" th:value="${bet.race.name}">
        <input type="hidden" name="race.country" th:value="${bet.race.country}">
        <input type="hidden" name="race.startDate" th:value="${#dates.format(bet.race.startDate, 'yyyy-MM-dd HH:mm:ss.S')}">
        <input type="hidden" name="race.endDate" th:value="${#dates.format(bet.race.endDate, 'yyyy-MM-dd HH:mm:ss.S')}">
        <section>
            <h2 th:text="#{bet.moto3.title}"></h2>
            <p>
                <label for="moto3-first" th:text="#{bet.firstPilot}"></label>
                <select id="moto3-first" th:field="*{moto3}">
                    <option th:each="rider : ${ridersMoto3}" th:value="${rider.dorsal}" th:text="${rider.dorsal} + '. ' + ${rider.name} + ' - ' + ${rider.team}"></option>
                </select>
                <p th:each="error: ${#fields.errors('moto3')}"
                   th:text="#{${error}}">Validation error</p>
            </p>
        </section>
        <section>
            <h2 th:text="#{bet.moto2.title}"></h2>
            <p>
                <label for="moto2-first" th:text="#{bet.firstPilot}"></label>
                <select id="moto2-first" th:field="*{moto2}">
                    <option th:each="rider : ${ridersMoto2}" th:value="${rider.dorsal}" th:text="${rider.dorsal} + '. ' + ${rider.name} + ' - ' + ${rider.team}"></option>
                </select>
                <p th:each="error: ${#fields.errors('moto2')}"
                   th:text="#{${error}}">Validation error</p>
            </p>
        </section>
        <section>
            <h2 th:text="#{bet.motogp.title}"></h2>
            <p>
                <label for="motogp-first" th:text="#{bet.firstPilot}"></label>
                <select id="motogp-first" th:field="*{motogpFirst}">
                    <option th:each="rider : ${ridersMotoGP}" th:value="${rider.dorsal}" th:text="${rider.dorsal} + '. ' + ${rider.name} + ' - ' + ${rider.team}"></option>
                </select>
                <p th:each="error: ${#fields.errors('motogpFirst')}"
                   th:text="#{${error}}">Validation error</p>
            </p>
            <p>
                <label for="motogp-second" th:text="#{bet.secondPilot}"></label>
                <select id="motogp-second" th:field="*{motogpSecond}">
                    <option th:each="rider : ${ridersMotoGP}" th:value="${rider.dorsal}" th:text="${rider.dorsal} + '. ' + ${rider.name} + ' - ' + ${rider.team}"></option>
                </select>
                <p th:each="error: ${#fields.errors('motogpSecond')}"
                   th:text="#{${error}}">Validation error</p>
            </p>
            <p>
                <label for="motogp-third" th:text="#{bet.thirdPilot}"></label>
                <select id="motogp-third" th:field="*{motogpThird}">
                    <option th:each="rider : ${ridersMotoGP}" th:value="${rider.dorsal}" th:text="${rider.dorsal} + '. ' + ${rider.name} + ' - ' + ${rider.team}"></option>
                </select>
                <p th:each="error: ${#fields.errors('motogpThird')}"
                   th:text="#{${error}}">Validation error</p>
            </p>
            <p>
                <label for="motogp-forth" th:text="#{bet.forthPilot}"></label>
                <select id="motogp-forth" th:field="*{motogpForth}">
                    <option th:each="rider : ${ridersMotoGP}" th:value="${rider.dorsal}" th:text="${rider.dorsal} + '. ' + ${rider.name} + ' - ' + ${rider.team}"></option>
                </select>
                <p th:each="error: ${#fields.errors('motogpForth')}"
                   th:text="#{${error}}">Validation error</p>
            </p>
            <p>
                <label for="motogp-fifth" th:text="#{bet.fifthPilot}"></label>
                <select id="motogp-fifth" th:field="*{motogpFifth}">
                    <option th:each="rider : ${ridersMotoGP}" th:value="${rider.dorsal}" th:text="${rider.dorsal} + '. ' + ${rider.name} + ' - ' + ${rider.team}"></option>
                </select>
                <p th:each="error: ${#fields.errors('motogpFifth')}"
                   th:text="#{${error}}">Validation error</p>
            </p>
            <p>
                <label for="motogp-sixth" th:text="#{bet.sixthPilot}"></label>
                <select id="motogp-sixth" th:field="*{motogpSixth}">
                    <option th:each="rider : ${ridersMotoGP}" th:value="${rider.dorsal}" th:text="${rider.dorsal} + '. ' + ${rider.name} + ' - ' + ${rider.team}"></option>
                </select>
                <p th:each="error: ${#fields.errors('motogpSixth')}"
                   th:text="#{${error}}">Validation error</p>
            </p>
        </section>
        <section>
            <p>
                <button type="reset" th:text="#{bet.reset}"></button>
                <button type="submit" th:text="#{bet.submit}"></button>
            </p>
        </section>
    </form>
</div>

</body>
</html>